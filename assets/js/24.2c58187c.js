(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{222:function(s,t,n){"use strict";n.r(t);var a=n(19),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"初探vue"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初探vue"}},[s._v("#")]),s._v(" 初探vue")]),s._v(" "),n("p",[s._v("本系列文章是作者在学习vue源码时的学习笔记，在学习的过程中会参考其他的文章，并在文末注明相关的引用。如有错误，欢迎指证。")]),s._v(" "),n("blockquote",[n("p",[s._v("vue源码版本: vue@2.5.17-beta.0")])]),s._v(" "),n("h2",{attrs:{id:"类型校验"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#类型校验"}},[s._v("#")]),s._v(" 类型校验")]),s._v(" "),n("p",[n("code",[s._v("vue")]),s._v("使用了"),n("code",[s._v("flow")]),s._v("进行语法校验，其中"),n("code",[s._v("vue")]),s._v("自定义了一些数据类型比如"),n("code",[s._v("component")]),s._v("或者"),n("code",[s._v("Element")]),s._v(" 等.")]),s._v(" "),n("blockquote",[n("p",[n("code",[s._v("flow")]),s._v("是facebook出品的代码检查工具，功能类似于typeScript,能够帮助你在编译期间发现代码中数据类型的错误。")])]),s._v(" "),n("h2",{attrs:{id:"why-function"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#why-function"}},[s._v("#")]),s._v(" "),n("code",[s._v("why function")])]),s._v(" "),n("p",[s._v("打开源码目录下的"),n("code",[s._v("src/platforms/web/entry-runtime-with-compiler.js")]),s._v(".这里导出了"),n("code",[s._v("vue")]),s._v(".最终我们可以查找到"),n("code",[s._v("src/core/instance/index.js")]),s._v(". 可以看到以下代码")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" initMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./init'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" stateMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./state'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" renderMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./render'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" eventsMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./events'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" lifecycleMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./lifecycle'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" warn "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../util/index'")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("Vue")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("instanceof")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("warn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Vue is a constructor and should be called with the `new` keyword'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("_init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("initMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Vue.prototype._init 原型上挂在_init方法")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stateMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Vue.prototype添加$data $props $set $delete $watch方法")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("eventsMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Vue.prototype添加$on $off $once $emit方法")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("lifecycleMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Vue.prototype添加_update $forceUpdate $destroy 方法")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("renderMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Vue.prototype添加$nextTick _render等方法")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" Vue\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("p",[s._v("这里可以看到"),n("code",[s._v("Vue")]),s._v("是用"),n("code",[s._v("function")]),s._v("而不是"),n("code",[s._v("class")]),s._v("来声明的？为什么不用"),n("code",[s._v("class")]),s._v("来声明呢？\n首先我们看到"),n("code",[s._v("Vue")]),s._v("构造函数声明特别简单，紧接着调用不同的"),n("code",[s._v("mixin")]),s._v("函数给"),n("code",[s._v("Vue")]),s._v("的原型对象上添加方法,使用"),n("code",[s._v("function")]),s._v("来声明可以有效的组织代码，将不同功能的"),n("code",[s._v("mixin")]),s._v("函数拆分成不同的文件，这样不用维护一个大的文件。如果我们使用"),n("code",[s._v("class")]),s._v("声明"),n("code",[s._v("Vue")]),s._v("，可能会这样")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("_init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$props")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t$"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t$"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$watch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("_update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$forceUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$destroy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$nextTick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("_render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("blockquote",[n("p",[s._v("可以看到如果使用"),n("code",[s._v("class")]),s._v("声明是非常复杂的，需要在一个class里面维护太多的方法。\n这里我们可以借鉴"),n("code",[s._v("vue")]),s._v("的开发思路，在开发框架时使用"),n("code",[s._v("function")]),s._v("比"),n("code",[s._v("class")]),s._v("更利于代码的组织和维护")])]),s._v(" "),n("blockquote",[n("p",[s._v("除了在原型上添加方法，还调用了"),n("code",[s._v("initGlobalAPI")]),s._v("注册全局"),n("code",[s._v("API")]),s._v("，源码目录下搜索"),n("code",[s._v("initGlobalAPI")]),s._v("。")])]),s._v(" "),n("h2",{attrs:{id:"项目结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目结构"}},[s._v("#")]),s._v(" 项目结构")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("\n├─ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("circleci                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 包含CircleCI持续集成/持续部署工具的配置文件")]),s._v("\n├─ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("github                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 项目相关的说明文档，上面的说明文档就在此文件夹")]),s._v("\n├─ benchmarks                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 基准,性能测试文件，Vue的跑分demo，比如大数据量的table或者渲染大量SVG")]),s._v("\n├─ dist                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 构建后输出的不同版本Vue文件(UMD、CommonJS、ES 生产和开发包)")]),s._v("\n├─ examples                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 部分示例，用Vue写的一些小demo")]),s._v("\n├─ flow                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// flow 因为Vue使用了 [Flow](https://flow.org/) 来进行静态类型检查，静态类型检查类型声明文件")]),s._v("\n├─ packages                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 包含服务端渲染和模板编译器两种不同的NPM包，是提供给不同使用场景使用的")]),s._v("\n├─ scripts                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 存放npm脚本配置文件，结合webpack、rollup进行编译、测试、构建等操作（使用者不需要关心）")]),s._v("\n│   ├─ alias"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 模块导入所有源代码和测试中使用的别名")]),s._v("\n│   ├─ config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js             "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 包含在'dist/`中找到的所有文件的生成配置")]),s._v("\n│   ├─ build"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 对 config.js 中所有的rollup配置进行构建")]),s._v("\n├─ src                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 主要源码所在位置，核心内容")]),s._v("\n│   ├─ compiler               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 解析模版相关")]),s._v("\n│       ├─ codegen            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 把AST转换为Render函数")]),s._v("\n│       ├─ directives         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 通用生成Render函数之前需要处理的指令")]),s._v("\n│       ├─ parser              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 解析模版成AST")]),s._v("\n│   ├─ core                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Vue核心代码，包括内置组件，全局API封装，Vue 实例化，观察者，虚拟DOM, 工具函数等等。")]),s._v("\n│       ├─ components          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 组件相关属性，主要是Keep-Alive")]),s._v("\n│       ├─ global"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("api          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Vue全局API，如Vue.use,Vue.extend,Vue.mixin等")]),s._v("\n│       ├─ instance            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 实例化相关内容，生命周期、事件等")]),s._v("\n│       ├─ observer            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 响应式核心目录，双向数据绑定相关文件")]),s._v("\n│       ├─ util                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 工具方法")]),s._v("\n│       └─ vdom                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 包含虚拟DOM 创建（creation）和打补丁(patching) 的代码")]),s._v("\n│   ├─ platforms               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 和平台相关的内容，Vue.js 是一个跨平台的MVVM 框架(web、native、weex)")]),s._v("\n│       ├─ web                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// web端")]),s._v("\n│           ├─ compiler        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// web端编译相关代码，用来编译模版成render函数basic.js")]),s._v("\n│           ├─ runtime         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// web端运行时相关代码，用于创建Vue实例等")]),s._v("\n│           ├─ server          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 服务端渲染")]),s._v("\n│           └─ util            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 相关工具类")]),s._v("\n│       └─ weex                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 基于通用跨平台的 Web 开发语言和开发经验，来构建 Android、iOS 和 Web 应用")]),s._v("\n│   ├─ server                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 服务端渲染（ssr）")]),s._v("\n│   ├─ sfc                     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 转换单文件组件（*.vue）")]),s._v("\n│   └─ shared                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 全局共享的方法和常量")]),s._v("\n├─ test                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// test 测试用例")]),s._v("\n├─ types                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Vue新版本支持TypeScript，主要是TypeScript类型声明文件")]),s._v("\n├─ node_modules               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// npm包存放目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("babelrc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// babel配置")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("editorconfig             "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 文本编码样式配置文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("eslintignore             "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eslint校验忽略文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("eslintrc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eslint配置文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("flowconfig               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// flow配置文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gitignore               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Git提交忽略文件配置")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BACKERS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 赞助者信息文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LICENSE")]),s._v("                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 项目开源协议")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json             "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 依赖")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("README")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 说明文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" yarn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lock               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// yarn版本锁定文件")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br")])]),n("blockquote",[n("p",[s._v("目录结构来自于参考文章"),n("a",{attrs:{href:"https://www.cnblogs.com/yimeidan/p/10594620.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vue源码之目录结构"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"小结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("vue")]),s._v("使用了"),n("code",[s._v("flow")]),s._v("作语法类型校验工具")]),s._v(" "),n("li",[n("code",[s._v("vue")]),s._v(" 使用了"),n("code",[s._v("rollup")]),s._v(" 来作打包工具")]),s._v(" "),n("li",[n("code",[s._v("vue")]),s._v(" 使用了"),n("code",[s._v("function")]),s._v("来声明"),n("code",[s._v("Vue")]),s._v(",并调用不同功能的"),n("code",[s._v("mixin")]),s._v("函数来给"),n("code",[s._v("Vue")]),s._v("原型添加各种方法。其次还注册了全局的"),n("code",[s._v("API")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);