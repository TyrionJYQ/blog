(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{222:function(t,s,n){"use strict";n.r(s);var a=n(17),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("本系列文章是作者在学习vue源码时的学习笔记，在学习的过程中会参考其他的文章，并在文末注明相关的引用。如有错误，欢迎指证。")]),t._v(" "),n("blockquote",[n("p",[t._v("vue源码版本: vue@2.5.17-beta.0")])]),t._v(" "),n("h3",{attrs:{id:"一-类型校验"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-类型校验"}},[t._v("#")]),t._v(" 一.  类型校验")]),t._v(" "),n("p",[n("code",[t._v("vue")]),t._v("使用了"),n("code",[t._v("flow")]),t._v("进行语法校验，其中"),n("code",[t._v("vue")]),t._v("自定义了一些数据类型比如"),n("code",[t._v("component")]),t._v("或者"),n("code",[t._v("Element")]),t._v(" 等.")]),t._v(" "),n("blockquote",[n("p",[n("code",[t._v("flow")]),t._v("是facebook出品的代码检查工具，功能类似于typeScript,能够帮助你在编译期间发现代码中数据类型的错误。")])]),t._v(" "),n("h3",{attrs:{id:"二-why-function"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-why-function"}},[t._v("#")]),t._v(" 二."),n("code",[t._v("why function")])]),t._v(" "),n("p",[t._v("打开源码目录下的"),n("code",[t._v("src/platforms/web/entry-runtime-with-compiler.js")]),t._v(".这里导出了"),n("code",[t._v("vue")]),t._v(".最终我们可以查找到"),n("code",[t._v("src/core/instance/index.js")]),t._v(". 可以看到以下代码")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" initMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./init'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" stateMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./state'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" renderMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./render'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" eventsMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./events'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" lifecycleMixin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./lifecycle'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" warn "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../util/index'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Vue")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("warn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Vue is a constructor and should be called with the `new` keyword'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("initMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Vue.prototype._init 原型上挂在_init方法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stateMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue.prototype添加$data $props $set $delete $watch方法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("eventsMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue.prototype添加$on $off $once $emit方法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("lifecycleMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue.prototype添加_update $forceUpdate $destroy 方法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderMixin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Vue.prototype添加$nextTick _render等方法")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" Vue\n\n")])])]),n("p",[t._v("这里可以看到"),n("code",[t._v("Vue")]),t._v("是用"),n("code",[t._v("function")]),t._v("而不是"),n("code",[t._v("class")]),t._v("来声明的？为什么不用"),n("code",[t._v("class")]),t._v("来声明呢？\n首先我们看到"),n("code",[t._v("Vue")]),t._v("构造函数声明特别简单，紧接着调用不同的"),n("code",[t._v("mixin")]),t._v("函数给"),n("code",[t._v("Vue")]),t._v("的原型对象上添加方法,使用"),n("code",[t._v("function")]),t._v("来声明可以有效的组织代码，将不同功能的"),n("code",[t._v("mixin")]),t._v("函数拆分成不同的文件，这样不用维护一个大的文件。如果我们使用"),n("code",[t._v("class")]),t._v("声明"),n("code",[t._v("Vue")]),t._v("，可能会这样")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$props")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t$"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t$"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$watch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$forceUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$destroy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$nextTick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("blockquote",[n("p",[t._v("可以看到如果使用"),n("code",[t._v("class")]),t._v("声明是非常复杂的，需要在一个class里面维护太多的方法。\n这里我们可以借鉴"),n("code",[t._v("vue")]),t._v("的开发思路，在开发框架时使用"),n("code",[t._v("function")]),t._v("比"),n("code",[t._v("class")]),t._v("更利于代码的组织和维护")])]),t._v(" "),n("blockquote",[n("p",[t._v("除了在原型上添加方法，还调用了"),n("code",[t._v("initGlobalAPI")]),t._v("注册全局"),n("code",[t._v("API")]),t._v("，源码目录下搜索"),n("code",[t._v("initGlobalAPI")]),t._v("。")])]),t._v(" "),n("h3",{attrs:{id:"项目结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目结构"}},[t._v("#")]),t._v(" 项目结构")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("\n├─ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("circleci                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 包含CircleCI持续集成/持续部署工具的配置文件")]),t._v("\n├─ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("github                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 项目相关的说明文档，上面的说明文档就在此文件夹")]),t._v("\n├─ benchmarks                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 基准,性能测试文件，Vue的跑分demo，比如大数据量的table或者渲染大量SVG")]),t._v("\n├─ dist                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建后输出的不同版本Vue文件(UMD、CommonJS、ES 生产和开发包)")]),t._v("\n├─ examples                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 部分示例，用Vue写的一些小demo")]),t._v("\n├─ flow                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// flow 因为Vue使用了 [Flow](https://flow.org/) 来进行静态类型检查，静态类型检查类型声明文件")]),t._v("\n├─ packages                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 包含服务端渲染和模板编译器两种不同的NPM包，是提供给不同使用场景使用的")]),t._v("\n├─ scripts                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 存放npm脚本配置文件，结合webpack、rollup进行编译、测试、构建等操作（使用者不需要关心）")]),t._v("\n│   ├─ alias"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 模块导入所有源代码和测试中使用的别名")]),t._v("\n│   ├─ config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 包含在'dist/`中找到的所有文件的生成配置")]),t._v("\n│   ├─ build"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对 config.js 中所有的rollup配置进行构建")]),t._v("\n├─ src                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 主要源码所在位置，核心内容")]),t._v("\n│   ├─ compiler               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析模版相关")]),t._v("\n│       ├─ codegen            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 把AST转换为Render函数")]),t._v("\n│       ├─ directives         "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通用生成Render函数之前需要处理的指令")]),t._v("\n│       ├─ parser              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析模版成AST")]),t._v("\n│   ├─ core                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue核心代码，包括内置组件，全局API封装，Vue 实例化，观察者，虚拟DOM, 工具函数等等。")]),t._v("\n│       ├─ components          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件相关属性，主要是Keep-Alive")]),t._v("\n│       ├─ global"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("api          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue全局API，如Vue.use,Vue.extend,Vue.mixin等")]),t._v("\n│       ├─ instance            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 实例化相关内容，生命周期、事件等")]),t._v("\n│       ├─ observer            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 响应式核心目录，双向数据绑定相关文件")]),t._v("\n│       ├─ util                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 工具方法")]),t._v("\n│       └─ vdom                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 包含虚拟DOM 创建（creation）和打补丁(patching) 的代码")]),t._v("\n│   ├─ platforms               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 和平台相关的内容，Vue.js 是一个跨平台的MVVM 框架(web、native、weex)")]),t._v("\n│       ├─ web                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// web端")]),t._v("\n│           ├─ compiler        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// web端编译相关代码，用来编译模版成render函数basic.js")]),t._v("\n│           ├─ runtime         "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// web端运行时相关代码，用于创建Vue实例等")]),t._v("\n│           ├─ server          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务端渲染")]),t._v("\n│           └─ util            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相关工具类")]),t._v("\n│       └─ weex                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 基于通用跨平台的 Web 开发语言和开发经验，来构建 Android、iOS 和 Web 应用")]),t._v("\n│   ├─ server                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务端渲染（ssr）")]),t._v("\n│   ├─ sfc                     "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 转换单文件组件（*.vue）")]),t._v("\n│   └─ shared                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局共享的方法和常量")]),t._v("\n├─ test                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// test 测试用例")]),t._v("\n├─ types                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue新版本支持TypeScript，主要是TypeScript类型声明文件")]),t._v("\n├─ node_modules               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// npm包存放目录")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("babelrc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// babel配置")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("editorconfig             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文本编码样式配置文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eslintignore             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eslint校验忽略文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eslintrc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eslint配置文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flowconfig               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// flow配置文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitignore               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Git提交忽略文件配置")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BACKERS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 赞助者信息文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LICENSE")]),t._v("                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 项目开源协议")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 依赖")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("README")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 说明文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" yarn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lock               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// yarn版本锁定文件")]),t._v("\n\n")])])]),n("blockquote",[n("p",[t._v("目录结构来自于参考文章"),n("a",{attrs:{href:"https://www.cnblogs.com/yimeidan/p/10594620.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue源码之目录结构"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"四-小结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四-小结"}},[t._v("#")]),t._v(" 四 小结")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("vue")]),t._v("使用了"),n("code",[t._v("flow")]),t._v("作语法类型校验工具")]),t._v(" "),n("li",[n("code",[t._v("vue")]),t._v(" 使用了"),n("code",[t._v("rollup")]),t._v(" 来作打包工具")]),t._v(" "),n("li",[n("code",[t._v("vue")]),t._v(" 使用了"),n("code",[t._v("function")]),t._v("来声明"),n("code",[t._v("Vue")]),t._v(",并调用不同功能的"),n("code",[t._v("mixin")]),t._v("函数来给"),n("code",[t._v("Vue")]),t._v("原型添加各种方法。其次还注册了全局的"),n("code",[t._v("API")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);